{% extends "base.html" %}
{% load static %}
{% load currency_filters %}

{% block extra_css %}
<style>
    /* Hide default navigation on homepage */
    #mainNav { display: none !important; }

    .hero-section {
        background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),
                 url('{% static "css/images/v_fondo.gif" %}');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        padding-top: 0;
        height: 100vh;
    }

    .cta-section {
        background: linear-gradient(rgba(197, 139, 68, 0.9), rgba(197, 139, 68, 0.9)),
                    url('https://pixabay.com/get/ge5094de442e534dc79fc3dd69b353b3e828f641c305137a914a841d9adcbf6c122bea713f155fee706086bcfa66528f1afb1d74f2abc967f33cc4e5c22e21a19_1280.jpg');
        background-size: cover;
        background-position: center;
    }

    /* Indicador de scroll */
    .scroll-indicator {
        position: absolute;
        bottom: 30px;
        right: 30px;
        text-align: center;
        color: white;
        animation: bounce 2s infinite;
    }

    .scroll-text {
        display: block;
        font-size: 14px;
        margin-bottom: 10px;
        font-weight: 500;
    }

    .scroll-arrow {
        font-size: 20px;
        animation: bounce-arrow 1.5s infinite;
    }

    /* Animación de rebote */
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-10px); }
        60% { transform: translateY(-5px); }
    }

    @keyframes bounce-arrow {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(10px); }
        60% { transform: translateY(5px); }
    }

    /* Estilos del collage de fotos */
    .tesoros-section {
        position: relative;
        overflow: hidden;
    }

    .photo-collage {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.1;
        z-index: 1;
    }

    .collage-photo {
        position: absolute;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transform: rotate(15deg);
    }

    .collage-photo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Posiciones del collage */
    .photo-1 {
        top: 10%;
        left: 5%;
        width: 150px;
        height: 150px;
        transform: rotate(-15deg);
    }

    .photo-2 {
        top: 20%;
        right: 10%;
        width: 120px;
        height: 120px;
        transform: rotate(20deg);
    }

    .photo-3 {
        bottom: 30%;
        left: 15%;
        width: 100px;
        height: 100px;
        transform: rotate(45deg);
    }

    .photo-4 {
        bottom: 15%;
        right: 20%;
        width: 130px;
        height: 130px;
        transform: rotate(-30deg);
    }

    /* Logo en navegación */
    .brand-logo {
        width: 30px;
        height: 30px;
        margin-right: 10px;
    }

    /* Conoce la Guajira Section */
    .conoce-guajira-section {
        position: relative;
        overflow: hidden;
        min-height: 80vh;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    }

    .photo-mosaic {
        position: relative;
        height: 60vh;
        max-width: 1200px;
        margin: 0 auto;
    }

    .mosaic-item {
        position: absolute;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .mosaic-item:hover {
        transform: scale(1.05) !important;
        box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        z-index: 10;
    }

    .main-item {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 400px;
        height: 300px;
        z-index: 5;
    }

    .main-item:hover {
        transform: translate(-50%, -50%) !important;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important;
    }

    .floating-item {
        width: 200px;
        height: 150px;
    }

    .item-1 {
        top: 10%;
        left: 5%;
        transform: rotate(-15deg);
    }

    .item-2 {
        top: 5%;
        right: 15%;
        transform: rotate(12deg);
    }

    .item-3 {
        top: 35%;
        left: 8%;
        transform: rotate(8deg);
    }

    .item-4 {
        top: 30%;
        right: 5%;
        transform: rotate(-10deg);
    }

    .item-5 {
        bottom: 20%;
        left: 10%;
        transform: rotate(15deg);
    }

    .item-6 {
        bottom: 25%;
        right: 20%;
        transform: rotate(-8deg);
    }

    .item-7 {
        bottom: 5%;
        left: 25%;
        transform: rotate(5deg);
    }

    .item-8 {
        bottom: 10%;
        right: 8%;
        transform: rotate(-12deg);
    }

    /* Animaciones */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideUp {
        from { opacity: 0; transform: translateY(50px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes zoomIn {
        from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }

    @keyframes float1 {
        0%, 100% { transform: rotate(-15deg) translateY(0px); }
        50% { transform: rotate(-15deg) translateY(-20px); }
    }

    @keyframes float2 {
        0%, 100% { transform: rotate(12deg) translateY(-10px); }
        50% { transform: rotate(12deg) translateY(10px); }
    }

    @keyframes float3 {
        0%, 100% { transform: rotate(8deg) translateY(0px); }
        50% { transform: rotate(8deg) translateY(-15px); }
    }

    @keyframes float4 {
        0%, 100% { transform: rotate(-10deg) translateY(-5px); }
        50% { transform: rotate(-10deg) translateY(15px); }
    }

    @keyframes float5 {
        0%, 100% { transform: rotate(15deg) translateY(0px); }
        50% { transform: rotate(15deg) translateY(-25px); }
    }

    @keyframes float6 {
        0%, 100% { transform: rotate(-8deg) translateY(-10px); }
        50% { transform: rotate(-8deg) translateY(10px); }
    }

    @keyframes float7 {
        0%, 100% { transform: rotate(5deg) translateY(0px); }
        50% { transform: rotate(5deg) translateY(-18px); }
    }

    @keyframes float8 {
        0%, 100% { transform: rotate(-12deg) translateY(-8px); }
        50% { transform: rotate(-12deg) translateY(12px); }
    }

    .animate-fade-in {
        animation: fadeIn 1s ease-out;
    }

    .animate-slide-up {
        animation: slideUp 1s ease-out 0.3s both;
    }

    .animate-zoom-in {
        animation: zoomIn 1s ease-out 0.6s both;
    }

    .animate-float-1 { animation: float1 6s ease-in-out infinite 0.5s; }
    .animate-float-2 { animation: float2 7s ease-in-out infinite 1s; }
    .animate-float-3 { animation: float3 5s ease-in-out infinite 1.5s; }
    .animate-float-4 { animation: float4 6.5s ease-in-out infinite 2s; }
    .animate-float-5 { animation: float5 5.5s ease-in-out infinite 2.5s; }
    .animate-float-6 { animation: float6 7.5s ease-in-out infinite 3s; }
    .animate-float-7 { animation: float7 6s ease-in-out infinite 3.5s; }
    .animate-float-8 { animation: float8 5.8s ease-in-out infinite 4s; }

    /* Responsive */
    /* Artisan cards styling */
    .artisan-card {
        padding: 20px;
    }

    .artisan-image-container {
        position: relative;
        overflow: hidden;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
    }

    .artisan-image-container:hover {
        transform: translateY(-10px);
    }

    .artisan-img {
        width: 100%;
        height: 300px;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .artisan-card:hover .artisan-img {
        transform: scale(1.05);
    }

    .artisan-card h5 {
        color: #C58B44;
        font-weight: 600;
    }

    .artisan-card .small {
        font-style: italic;
        color: #666;
    }

    @media (max-width: 768px) {
        .photo-mosaic {
            height: 50vh;
        }

        .main-item {
            width: 280px;
            height: 200px;
        }

        .floating-item {
            width: 140px;
            height: 100px;
        }

        .item-1, .item-3, .item-5, .item-7 {
            left: 2%;
        }

        .item-2, .item-4, .item-6, .item-8 {
            right: 2%;
        }

        .artisan-img {
            height: 250px;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Include special floating navigation for homepage -->
{% include 'home_nav.html' %}

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-background">
        <div class="container">
            <div class="row align-items-center min-vh-100">
                <div class="col-lg-6">
                    <div class="hero-content animate-fade-in">
                        <h1 class="display-2 fw-bold text-white mb-4">
                            RAÍCES<br>
                            <span class="text-primary">VIVAS</span>
                        </h1>
                        <p class="lead text-white mb-4">
                            Descubre la riqueza cultural de La Guajira a través de nuestras auténticas artesanías Wayuu
                        </p>
                        <a href="{% url 'shop' %}" class="btn btn-primary btn-lg">Explorar Tienda</a>

                        <!-- Scroll down indicator -->
                        <div class="scroll-indicator">
                            <span class="scroll-text">Baja para conocer más de La Guajira</span>
                            <div class="scroll-arrow">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="hero-image animate-slide-in">
                        <img src="https://laguajirahoy.com/wp-content/uploads/2017/08/2.jpg" 
                             alt="Artesanías Wayuu" class="img-fluid rounded-3 shadow-lg">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About Section con Collage -->
<section class="py-5 bg-light tesoros-section">
    <!-- Collage de fotos de fondo -->
    <div class="photo-collage">
        <div class="collage-photo photo-1">
            <img src="https://www.artesaniasdecolombia.com.co/Documentos/Contenido/13580_wayuu-g.jpg" alt="Artesana Wayuu">
        </div>
        <div class="collage-photo photo-2">
            <img src="https://i.pinimg.com/1200x/34/ed/f5/34edf5b88cfcb4206732930e1580aa98.jpg" alt="Tejidos Wayuu">
        </div>
        <div class="collage-photo photo-3">
            <img src="https://i.pinimg.com/1200x/37/d0/6d/37d06d1eb89e3853dc78aabdf1bbcf70.jpg" alt="La Guajira">
        </div>
        <div class="collage-photo photo-4">
            <img src="https://i.pinimg.com/1200x/a2/c4/65/a2c4657820c20aeab0508b3dc7c9907f.jpg" alt="Cultura Wayuu">
        </div>
    </div>

    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <img src="https://i.pinimg.com/1200x/f3/3d/f0/f33df0d215d3e9a6c65e29d70143c491.jpg" 
                     alt="La Guajira" class="img-fluid rounded-3 shadow">
            </div>
            <div class="col-lg-6">
                <h2 class="display-5 fw-bold mb-4">
                    UN TESORO<br>
                    DE <span class="text-primary">SABERES</span>
                </h2>
                <h3 class="h4 mb-3 text-primary">TRADICIÓN WAYUU</h3>
                <p class="lead text-muted">
                    Cada artesanía cuenta una historia única que conecta generaciones de sabiduría ancestral con la belleza contemporánea.
                </p>
                <p class="text-muted mb-4">
                    Nuestras artesanas Wayuu tejen no solo hilos, sino tradiciones, sueños y la esencia misma de su cultura milenaria.
                </p>
                <a href="{% url 'blog' %}" class="btn btn-outline-primary">Conoce Más</a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Products Section -->
<section class="py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-12 text-center animate-on-scroll">
                <h2 class="display-5 fw-bold mb-4">
                    PRODUCTOS <span class="text-primary">DESTACADOS</span>
                </h2>
                <p class="lead text-muted mb-5">
                    Descubre nuestras piezas más especiales, cada una con su propia historia
                </p>
            </div>
        </div>

        <div class="row">
            {% for product in featured_products %}
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card product-card h-100 animate-on-scroll">
                        <div class="product-image">
                            <img src="{{ product.image_url }}" class="card-img-top" alt="{{ product.name }}">
                            <div class="product-overlay">
                                <a href="{% url 'product_detail' product.id %}" class="btn btn-white btn-sm">Ver Detalles</a>
                                <a href="{% url 'product_detail' product.id %}" class="btn btn-primary btn-sm">
                                    <i class="fas fa-cart-plus"></i>
                                </a>
                            </div>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="text-muted small">Por {{ product.artisan_name }}</p>
                            <p class="text-primary fw-bold">{{ product.price|currency_symbol }}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="row">
            <div class="col-lg-12 text-center">
                <a href="{% url 'shop' %}" class="btn btn-outline-primary btn-lg">Ver Todos los Productos</a>
            </div>
        </div>
    </div>
</section>

<!-- Artisan Carousel Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-12 text-center animate-on-scroll">
                <h2 class="display-5 fw-bold mb-4">
                    MANOS QUE <span class="text-primary">INSPIRAN</span>
                </h2>
                <p class="lead text-muted mb-5">
                    Conoce a las talentosas artesanas detrás de cada creación
                </p>
            </div>
        </div>

        <div id="artisanCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="artisan-card text-center animate-on-scroll">
                                <div class="artisan-image-container">
                                    <img src="https://cdn.shopify.com/s/files/1/0551/8041/files/DSC_2676_1024x1024.jpg?16514136233257398088" 
                                         alt="María Ipuana - Artesana Wayuu" 
                                         class="img-fluid rounded-3 shadow artisan-img">
                                </div>
                                <h5 class="mt-3">María Ipuana</h5>
                                <p class="text-muted">Maestra en tejido de mochilas</p>
                                <p class="small">30 años de experiencia tejiendo la tradición ancestral Wayuu</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="artisan-card text-center animate-on-scroll">
                                <div class="artisan-image-container">
                                    <img src="https://www.renunciamosyviajamos.com/wp-content/uploads/2015/04/Cabo-de-la-Vela-Guajira-Renunciamos-y-Viajamos-21.jpg" 
                                         alt="Carmen Pushaina - Artesana Wayuu" 
                                         class="img-fluid rounded-3 shadow artisan-img">
                                </div>
                                <h5 class="mt-3">Carmen Pushaina</h5>
                                <p class="text-muted">Especialista en hamacas</p>
                                <p class="small">Sus hamacas son reconocidas por su calidad y diseños únicos</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="artisan-card text-center animate-on-scroll">
                                <div class="artisan-image-container">
                                    <img src="https://lachachara.org/wp-content/uploads/2020/05/1-Mujeres-Wayu%C3%BA1.jpg" 
                                         alt="Rosa Uriana - Artesana Wayuu" 
                                         class="img-fluid rounded-3 shadow artisan-img">
                                </div>
                                <h5 class="mt-3">Rosa Uriana</h5>
                                <p class="text-muted">Tejedora de chinchorros</p>
                                <p class="small">Preserva los patrones tradicionales de su familia</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="artisan-card text-center animate-on-scroll">
                                <div class="artisan-image-container">
                                    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjV6u_vyQfA_oWZPtgotKuFv1b1Ip6-eoxaTMRoht5KhGJXDt2GkV0YU-oX-taAaORctXVwo0a3D24XmFVZwpisdUeFBjrfc_FDr60c5fJIpN-l46lNWE2-CB2zuTjGKtFIbdkoagah_vfg/s640/wayuu-4.jpg  " 
                                         alt="Ana Epieyuu - Artesana Wayuu" 
                                         class="img-fluid rounded-3 shadow artisan-img">
                                </div>
                                <h5 class="mt-3">Ana Epieyuu</h5>
                                <p class="text-muted">Experta en bolsos wayuu</p>
                                <p class="small">Cada bolso cuenta la historia de su clan familiar</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="artisan-card text-center animate-on-scroll">
                                <div class="artisan-image-container">
                                    <img src="https://artesaniasdecolombia.com.co/Documentos/Contenido/37975_mes-madre-carmen-maria-gonzalez-artesanias-colombia-2021-g.jpg" 
                                         alt="Luz Gouriyu - Artesana Wayuu" 
                                         class="img-fluid rounded-3 shadow artisan-img">
                                </div>
                                <h5 class="mt-3">Luz Gouriyu</h5>
                                <p class="text-muted">Artesana de accesorios</p>
                                <p class="small">Crea pulseras y collares con simbolismo wayuu</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="artisan-card text-center animate-on-scroll">
                                <div class="artisan-image-container">
                                    <img src="https://www.las2orillas.co/wp-content/uploads/2015/05/wayuu.jpg" 
                                         alt="Elena Apshana - Artesana Wayuu" 
                                         class="img-fluid rounded-3 shadow artisan-img">
                                </div>
                                <h5 class="mt-3">Elena Apshana</h5>
                                <p class="text-muted">Maestra tejedora</p>
                                <p class="small">Enseña las técnicas ancestrales a las nuevas generaciones</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#artisanCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#artisanCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>
    </div>
</section>

<!-- Blog Section (if posts exist) -->
{% if blog_posts %}
<section class="py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-12 text-center animate-on-scroll">
                <h2 class="display-5 fw-bold mb-4">
                    HISTORIAS Y <span class="text-primary">CULTURA</span>
                </h2>
                <p class="lead text-muted mb-5">
                    Descubre las historias detrás de nuestras tradiciones
                </p>
            </div>
        </div>

        <div class="row">
            {% for post in blog_posts %}
                <div class="col-lg-4 mb-4">
                    <article class="card blog-card h-100 animate-on-scroll">
                        <div class="blog-image">
                            <img src="{{ post.featured_image }}" class="card-img-top" alt="{{ post.title }}">
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ post.title }}</h5>
                            <p class="card-text text-muted">{{ post.excerpt }}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">{{ post.author }}</small>
                                <a href="{% url 'blog' %}" class="btn btn-outline-primary btn-sm">Leer Más</a>
                            </div>
                        </div>
                    </article>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="cta-section py-5">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8 animate-on-scroll">
                <h2 class="display-5 fw-bold text-white mb-4">
                    Conecta con nuestras raíces
                </h2>
                <p class="lead text-white mb-4">
                    Cada compra apoya directamente a las artesanas Wayuu y preserva su cultura ancestral
                </p>
                <a href="{% url 'contact' %}" class="btn btn-light btn-lg me-3">Contáctanos</a>
                <a href="{% url 'shop' %}" class="btn btn-outline-light btn-lg">Explorar Tienda</a>
            </div>
        </div>
    </div>
</section>

<!-- Conoce la Guajira Section -->
<section class="py-5 bg-light conoce-guajira-section">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <p class="lead text-muted mb-3 animate-fade-in">Lleva esta cultura a tu hogar apoyando a los artesanos</p>
                <h2 class="display-4 fw-bold mb-5 animate-slide-up">#Conoce la Guajira</h2>
            </div>
        </div>

        <div class="photo-mosaic">
            <!-- Imagen principal central -->
            <div class="mosaic-item main-item animate-zoom-in">
                <img src="https://i.pinimg.com/736x/0f/ff/39/0fff3902d35b8d16d7f0bc7fe0c02938.jpg" 
                     alt="Mujeres Wayuu" class="img-fluid rounded-3 shadow-lg">
            </div>

            <!-- Imágenes flotantes -->
            <div class="mosaic-item floating-item item-1 animate-float-1">
                <img src="https://i.pinimg.com/736x/c5/ec/cf/c5eccfd01e97978b21fdfd34af16767d.jpg" 
                     alt="Danza Wayuu" class="img-fluid rounded-3 shadow">
            </div>

            <div class="mosaic-item floating-item item-2 animate-float-2">
                <img src="https://i.pinimg.com/1200x/d3/31/73/d33173b2f3eb4cf725e54a9e142b6be6.jpg" 
                     alt="Artesanías Wayuu" class="img-fluid rounded-3 shadow">
            </div>

            <div class="mosaic-item floating-item item-3 animate-float-3">
                <img src="https://i.pinimg.com/736x/30/1f/33/301f33670eae0b494521905d4a474739.jpg" 
                     alt="Paisaje Guajira" class="img-fluid rounded-3 shadow">
            </div>

            <div class="mosaic-item floating-item item-4 animate-float-4">
                <img src="https://i.pinimg.com/1200x/2c/15/fe/2c15fe24c3acd950210eaff37aeda2e5.jpg" 
                     alt="Mar Caribe" class="img-fluid rounded-3 shadow">
            </div>

            <div class="mosaic-item floating-item item-5 animate-float-5">
                <img src="https://i.pinimg.com/736x/12/6e/cb/126ecb29bc77b7f00b6252e0630a161a.jpg" 
                     alt="Atardecer Guajira" class="img-fluid rounded-3 shadow">
            </div>

            <div class="mosaic-item floating-item item-6 animate-float-6">
                <img src="https://i.pinimg.com/736x/c5/65/59/c565590ebec76dfb9832dfebd6d92cf8.jpg" 
                     alt="Tejidos Wayuu" class="img-fluid rounded-3 shadow">
            </div>

            <div class="mosaic-item floating-item item-7 animate-float-7">
                <img src="https://i.pinimg.com/736x/50/be/12/50be12231cfe34482dcaf899e931ee70.jpg" 
                     alt="Mochilas Wayuu" class="img-fluid rounded-3 shadow">
            </div>

            <div class="mosaic-item floating-item item-8 animate-float-8">
                <img src="https://i.pinimg.com/736x/fe/1d/32/fe1d327a0c6944feaf918065f1702b19.jpg" 
                     alt="Bolsos Wayuu" class="img-fluid rounded-3 shadow">
            </div>
        </div>
    </div>
</section>
{% endblock %}
